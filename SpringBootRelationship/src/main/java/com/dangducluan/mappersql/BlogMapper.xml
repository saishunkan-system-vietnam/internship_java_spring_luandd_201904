<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.dangducluan.mapper.BlogMapper">
	<select id="getAllBlogs" resultMap="BlogResult">
		select b.blog_id, b.blog_name, b.created_on, p.post_id, p.title, p.content, p.created_on 
		from blog b join post p on b.blog_id = p.blog_id
	</select>
	<resultMap type="Blog" id="BlogResult">
		<id property="blogId" column="blog_id"/>
		<result property="blogName" column="blog_name"/>
		<collection property="listPost" ofType="Post" resultMap="PostResult"></collection>
	</resultMap>
	<resultMap type="Post" id="PostResult">
		<id property="postId" column="post_id"/>
		<result property="title" column="title"/>
		<result property="content" column="content"/>
		<result property="createdOn" column="created_on"/>
	</resultMap>
</mapper>